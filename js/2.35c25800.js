(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"0e6f":function(t,e,n){"use strict";var i,s,r={data:function(){return{}},methods:{successNotify:function(t){this.$q.notify({message:t,color:"positive",position:"top",timeout:1500,icon:"fas fa-check-square"})},warningNotify:function(t){this.$q.notify({message:t,color:"warning",position:"top",timeout:1500,icon:"fas fa-exclamation"})},errorNotify:function(t){this.$q.notify({message:t,color:"negative",position:"top",timeout:1500,icon:"fas fa-exclamation-triangle"})}}},a=r,o=n("a6c2"),c=Object(o["a"])(a,i,s,!1,null,null,null);e["a"]=c.exports},2671:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-12"},[n("div",{staticClass:"full-width text-right q-mb-md"},[n("router-link",{attrs:{to:t.backToList}},[n("q-btn",{staticClass:"q-mr-sm",attrs:{outline:"","no-caps":"",label:t.$t("cancel"),color:"primary"}})],1),n("q-btn",{attrs:{"no-caps":"",color:"primary",label:t.$t("save"),icon:"fas fa-save"},on:{click:function(e){t.extensionGroups.idExtensionGroup?t.updateExtensionGroup():t.saveExtensionGroups()}}})],1),n("q-card",{staticClass:"shadow-1 col-12"},[n("q-tabs",{staticClass:"bg-grey-2 text-grey-7 shadow-1 full-width",attrs:{"inline-label":"","active-color":"primary","narrow-indicator":"",align:"left"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("q-tab",{attrs:{label:t.$t("general"),name:"general"}})],1),n("q-card-section",[n("div",{staticClass:"row flex justify-center"},[n("div",{staticClass:"q-pa-md col-6"},[n("q-input",{attrs:{outlined:"",type:"number",label:t.$t("number"),dense:""},model:{value:t.extensionGroups.number,callback:function(e){t.$set(t.extensionGroups,"number",e)},expression:"extensionGroups.number"}})],1),n("div",{staticClass:"q-pa-md col-6"},[n("q-input",{attrs:{outlined:"",type:"text",label:t.$t("description"),dense:""},model:{value:t.extensionGroups.description,callback:function(e){t.$set(t.extensionGroups,"description",e)},expression:"extensionGroups.description"}})],1)]),n("div",{staticClass:"row flex justify-center"},[n("div",{staticClass:"q-pa-md col-6"},[n("q-input",{attrs:{type:"number",outlined:"",label:t.$t("timeRing"),maxlength:"2",hint:t.$t("timeInSeconds"),dense:"",rules:[function(e){return!!e||t.$t("required")},function(t){return t.length<3||"Please use maximum 2 characters"}]},model:{value:t.extensionGroups.timeRing,callback:function(e){t.$set(t.extensionGroups,"timeRing",e)},expression:"extensionGroups.timeRing"}})],1),n("div",{staticClass:"q-pa-md col-6"},[n("q-select",{attrs:{dense:"",outlined:"",options:t.ringStrategy,"option-value":"value","option-label":"label","map-options":"","emit-value":"",label:t.$t("ringStrategy")},model:{value:t.extensionGroups.idRingStrategy,callback:function(e){t.$set(t.extensionGroups,"idRingStrategy",e)},expression:"extensionGroups.idRingStrategy"}})],1)])]),n("div",{staticClass:"row q-pa-md justify-center"},[n("div",{staticClass:"col-xl-9 col-lg-9 col-md-7 col-sm-5 col-xs-5"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6 q-pa-md"},[n("q-input",{staticClass:"q-mb-sm",attrs:{outlined:"",dense:"",label:t.$t("search")},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.extGroupsSearch,callback:function(e){t.extGroupsSearch=e},expression:"extGroupsSearch"}}),n("q-card",[n("q-list",{attrs:{separator:"",bordered:""}},[n("q-btn",{staticClass:"full-width",attrs:{label:t.$t("addAll"),unelevated:"",outline:"",dense:"",color:"green-5","icon-right":"fas fa-angle-double-right",disabled:0===t.avalaibleExtensions.length},on:{click:t.insertAllGroup}}),n("q-item-label",{staticClass:"text-uppercase bg-grey-2 text-center",attrs:{header:""}},[t._v(t._s(t.$t("availableExtensions")))]),n("q-scroll-area",{staticStyle:{height:"200px",width:"100%"},attrs:{"thumb-style":t.thumbStyle,fit:""}},t._l(t.avalaibleExtensions,(function(e,i){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:i,staticClass:"text-center",attrs:{clickable:""},on:{click:function(n){return t.insertGroup(e)}}},[n("q-item-section",[t._v(t._s(e.idExtension)+" - "+t._s(e.name))]),n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{color:"primary",name:"keyboard_arrow_right"}})],1)],1)})),1)],1)],1)],1),n("div",{staticClass:"col-6 q-pa-md"},[n("q-input",{staticClass:"q-mb-sm",attrs:{outlined:"",dense:"",label:t.$t("search")},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.extGroupsSearch2,callback:function(e){t.extGroupsSearch2=e},expression:"extGroupsSearch2"}}),n("q-card",[n("q-list",{attrs:{bordered:"",separator:""}},[n("q-btn",{staticClass:"full-width",attrs:{label:t.$t("removeAll"),unelevated:"",outline:"",dense:"",color:"red-5",icon:"fas fa-angle-double-left",disabled:0===t.extensionGroupsList.length},on:{click:t.removeAllGroup}}),n("q-item-label",{staticClass:"text-uppercase bg-grey-3 text-center",attrs:{header:""}},[t._v(t._s(t.$t("inGroupExtensions")))]),n("q-scroll-area",{staticStyle:{height:"200px",width:"100%"},attrs:{"thumb-style":t.thumbStyle,fit:""}},t._l(t.extensionGroupsList,(function(e,i){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:i,staticClass:"text-center",attrs:{clickable:""},on:{click:function(n){return t.removeGroup(e)}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{color:"primary",name:"keyboard_arrow_left"}})],1),n("q-item-section",[t._v(t._s(e.idExtension)+" - "+t._s(e.name))])],1)})),1)],1)],1)],1)])])])],1)],1)},s=[],r=n("52b5"),a=n.n(r),o=(n("c1c3"),n("549c")),c=n.n(o),u=(n("1a43"),n("0dbc"),n("b7dd"),n("8cf6"),n("7a86")),l=n("dcc5"),p=n("2811"),d=n.n(p),f=n("ddeb"),h=n.n(f),x=n("f26e"),v=n.n(x),m=n("39df1"),g=n.n(m),b=n("d997"),G=function(t){function e(){return d()(this,e),h()(this,v()(e).call(this,"/SelectsFill/ringStrategy/"))}return g()(e,t),e}(b["a"]),y=n("0e6f"),E={name:"addExtensionGroup",mixins:[y["a"]],data:function(){return{backToList:"/extensiongroups",ExtensionsService:new u["a"],ExtensionGroupsService:new l["a"],RingStrategyService:new G,allExtensions:[],avalaibleExtensions:[],extensionGroupsList:[],extGroupsSearch:"",extGroupsSearch2:"",extensionGroups:{number:"",description:"",timeRing:"",idRingStrategy:null,idExtensions:[],idExtensionGroup:""},ringStrategy:[],tab:"general"}},mounted:function(){this.getExtensionGroup(),this.getExtensions(),this.getRingStrategy()},created:function(){this.extensionGroups.idExtensionGroup=this.$route.params.id},computed:{thumbStyle:function(){return{right:"2px",borderRadius:"5px",backgroundColor:"#832BB1",width:"5px",opacity:.75}}},methods:{getRingStrategy:function(){var t=this;this.RingStrategyService.list().then((function(e){t.mapRingStrategy(e)})).catch((function(e){return t.errorNotify(e.message)}))},mapRingStrategy:function(t){this.ringStrategy=t.map((function(t){return{label:t.label,value:t.value}}))},saveExtensionGroups:function(){var t=this;this.$q.loading.show({delay:100}),this.ExtensionGroupsService.create(this.extensionGroups).then((function(e){t.successNotify("Extension Group ".concat(t.extensionGroups.name," created!")),t.$router.push("/extensiongroups")})).catch((function(e){return t.errorNotify(e.message)})).finally((function(){return t.$q.loading.hide()}))},updateExtensionGroup:function(){var t=this;this.ExtensionGroupsService.update(this.extensionGroups).then((function(e){t.successNotify("Extension Group ".concat(t.extensionGroups.name," update!")),t.$router.push("/extensiongroups")})).catch((function(e){t.errorNotify(e.message)})).finally((function(){return t.$q.loading.hide()}))},getExtensionGroup:function(){var t=c()(a.a.mark((function t(){var e=this;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.extensionGroups.idExtensionGroup){t.next=4;break}return this.$q.loading.show({delay:100,message:"<span>Loading Extensions Groups...</span>"}),t.next=4,this.ExtensionGroupsService.show(this.extensionGroups.idExtensionGroup).then((function(t){e.extensionGroups=t,e.getExtensions()})).catch((function(t){e.errorNotify(t.message)})).finally((function(){e.$q.loading.hide()}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),filterExtensionsAvailable:function(){var t=this,e=this.extensionGroups.idExtensions;this.avalaibleExtensions.forEach((function(n){return e.forEach((function(e){n.idExtension===e&&t.extensionGroupsList.push(n)}))})),e.forEach((function(e){var n=t.avalaibleExtensions.map((function(t){return t.idExtension})).indexOf(e);t.avalaibleExtensions.splice(n,1)}))},getExtensions:function(){var t=c()(a.a.mark((function t(){var e=this;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.avalaibleExtensions=[],t.next=3,this.ExtensionsService.list().then((function(t){e.avalaibleExtensions=t,e.extensionGroups.idExtensions&&e.filterExtensionsAvailable()})).catch((function(t){return e.errorNotify(t.message)}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),insertGroup:function(t){this.extensionGroupsList.push(t),this.extensionGroups.idExtensions.push(t.idExtension),this.avalaibleExtensions=this.avalaibleExtensions.filter((function(e){return e.idExtension!==t.idExtension}))},removeGroup:function(t){this.avalaibleExtensions.push(t),this.extensionGroupsList=this.extensionGroupsList.filter((function(e){return e.idExtension!==t.idExtension}))},insertAllGroup:function(){this.extensionGroupsList=this.extensionGroupsList.concat(this.avalaibleExtensions),this.avalaibleExtensions=[]},removeAllGroup:function(){this.avalaibleExtensions=this.avalaibleExtensions.concat(this.extensionGroupsList),this.extensionGroupsList=[]}}},w=E,q=n("a6c2"),S=Object(q["a"])(w,i,s,!1,null,null,null);e["default"]=S.exports},"7a86":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("2811"),s=n.n(i),r=n("ddeb"),a=n.n(r),o=n("f26e"),c=n.n(o),u=n("39df1"),l=n.n(u),p=n("d997"),d=function(t){function e(){return s()(this,e),a()(this,c()(e).call(this,"/extension"))}return l()(e,t),e}(p["a"])},d997:function(t,e,n){"use strict";var i=n("52b5"),s=n.n(i),r=(n("c1c3"),n("549c")),a=n.n(r),o=n("2811"),c=n.n(o),u=n("9289"),l=n.n(u),p=n("7338"),d=n.n(p),f=function(t,e,n){var i=JSON.parse(JSON.stringify(t)).response;return navigator.onLine?i?new Error(h(i,e,n)):new Error("Servidor indisponivel, tente mais tarde"):new Error("Sem acesso à internet, por favor, tente mais tarde")},h=function(t,e,n){var i=t.data,s={400:function(){return x(i)},401:function(){return"Sessão expirada. Logue-se novamente"},404:function(){return"Endereço de acesso não encontrado"},500:function(){return v(e,n)},503:function(){return"Servidor indisponível. Tente novamente mais tardeftfr"},default:function(){return"Erro de verificação do status da requisição"}};return(s[t.status]||s["default"])()},x=function(t){return t&&t!=={}?t.length>1?t:t.error:"Existem erros a serem processados"},v=function(t,e){var n={list:"Não foi possível realizar a listagem, tente mais tarde.",get:"Não foi possível realizar a consulta de ".concat(e,", tente mais tarde."),create:"Não foi possível realizar o cadastro, tente mais tarde.",update:"Não foi possível realizar a edição, tente mais tarde.",remove:"Não foi possível realizar a exclusão, tente mais tarde.",login:"Não foi possível realizar o login, tente mais tarde.",default:"Erro de verificação"};return n[t]||n["default"]};n.d(e,"a",(function(){return m}));var m=function t(e){var n=this;c()(this,t),l()(this,"list",a()(s.a.mark((function t(){var e;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get(n.api);case 3:return e=t.sent,t.abrupt("return",e.data);case 7:throw t.prev=7,t.t0=t["catch"](0),f(t.t0,"list");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),l()(this,"show",function(){var t=a()(s.a.mark((function t(e){var i;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.http.get("".concat(n.api,"/").concat(e));case 3:return i=t.sent,t.abrupt("return",i.data);case 7:throw t.prev=7,t.t0=t["catch"](0),f(t.t0,"get","item");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),l()(this,"create",function(){var t=a()(s.a.mark((function t(e){var i;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.http.post(n.api,e);case 3:return i=t.sent,t.abrupt("return",i.data);case 7:throw t.prev=7,t.t0=t["catch"](0),f(t.t0,"create");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),l()(this,"update",function(){var t=a()(s.a.mark((function t(e){var i;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.http.put("".concat(n.api),e);case 3:return i=t.sent,t.abrupt("return",i.data);case 7:throw t.prev=7,t.t0=t["catch"](0),f(t.t0,"update");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),l()(this,"remove",function(){var t=a()(s.a.mark((function t(e){var i;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.http.delete("".concat(n.api,"/").concat(e));case 3:return i=t.sent,t.abrupt("return",i.data);case 7:throw t.prev=7,t.t0=t["catch"](0),f(t.t0,"remove");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),this.api=e,this.http=d.a}},dcc5:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("2811"),s=n.n(i),r=n("ddeb"),a=n.n(r),o=n("f26e"),c=n.n(o),u=n("39df1"),l=n.n(u),p=n("d997"),d=function(t){function e(){return s()(this,e),a()(this,c()(e).call(this,"/extensiongroup"))}return l()(e,t),e}(p["a"])}}]);