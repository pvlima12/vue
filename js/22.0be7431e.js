(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{"0e6f":function(e,t,n){"use strict";var r,a,s={data:function(){return{}},methods:{successNotify:function(e){this.$q.notify({message:e,color:"positive",position:"top",timeout:1500,icon:"fas fa-check-square"})},warningNotify:function(e){this.$q.notify({message:e,color:"warning",position:"top",timeout:1500,icon:"fas fa-exclamation"})},errorNotify:function(e){this.$q.notify({message:e,color:"negative",position:"top",timeout:1500,icon:"fas fa-exclamation-triangle"})}}},i=s,o=n("a6c2"),c=Object(o["a"])(i,r,a,!1,null,null,null);t["a"]=c.exports},"1e52":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("2811"),a=n.n(r),s=n("ddeb"),i=n.n(s),o=n("f26e"),c=n.n(o),l=n("39df1"),u=n.n(l),d=n("d997"),p=function(e){function t(){return a()(this,t),i()(this,c()(t).call(this,"/user"))}return u()(t,e),t}(d["a"])},"207a":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-btn",{staticClass:"q-mr-md",attrs:{flat:"",ripple:"",label:e.$t("removeSelected"),size:"md",color:"red-7",icon:"delete","no-caps":""},on:{click:e.deleteAll}})},a=[],s={data:function(){return{}},methods:{deleteAll:function(){this.$emit("deleteAll")}}},i=s,o=n("a6c2"),c=Object(o["a"])(i,r,a,!1,null,null,null);t["a"]=c.exports},"6ab0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 text-right q-mb-md"},[n("router-link",{attrs:{to:e.linkToAdd}},[n("q-btn",{attrs:{color:"green-7","no-caps":""}},[n("q-icon",{staticClass:"q-mr-sm",attrs:{size:"20px",name:"add"}}),e._v("\n        "+e._s(e.$t("new"))+"\n      ")],1)],1)],1),n("div",{staticClass:"col-12"},[n("q-card",{staticClass:"shadow-1 col-12"},[n("q-table",{staticClass:"shadow-q full-width my-sticky-header-table",attrs:{title:e.$t("usersList"),data:e.usersList,columns:e.columns,separator:"cell",filter:e.filter,"no-data-label":e.$t("noData"),"no-results-label":e.$t("noResultsForSearch"),pagination:e.pagination,loading:e.loading,"row-key":"idUser",selection:"multiple",selected:e.usersListSelected,flat:""},on:{"update:pagination":function(t){e.pagination=t},"update:selected":function(t){e.usersListSelected=t}},scopedSlots:e._u([{key:"top-right",fn:function(){return[e.usersListSelected.length>0?n("button-delete-all",{on:{deleteAll:function(t){return e.deleteAllUser()}}}):e._e(),n("q-input",{attrs:{outlined:"",dense:"",borderless:"",debounce:"300",placeholder:e.$t("search")},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body-cell-actions",fn:function(t){return n("q-td",{staticStyle:{width:"100px"},attrs:{props:t}},[n("table-action-buttons",{attrs:{id:t.row.idUser,url:e.url},on:{delete:function(n){return e.deleteUser(t.row.idUser)}}})],1)}}])})],1)],1)])},a=[],s=n("52b5"),i=n.n(s),o=(n("c1c3"),n("549c")),c=n.n(o),l=(n("0dbc"),n("b7dd"),n("8cf6"),n("1e52")),u=n("0e6f"),d=n("a36f"),p=n("207a"),f={name:"ListUsersComponent",mixins:[u["a"]],components:{TableActionButtons:d["a"],ButtonDeleteAll:p["a"]},data:function(){return{url:"/users",UsersService:new l["a"],usersListSelected:[],linkToAdd:"/users/add",usersList:[],pagination:{sortBy:"name",descending:!1,page:1,rowsPerPage:20},loading:!1,filter:"",columns:[{name:"idUser",label:this.$t("users"),field:"idUser",sortable:!0,align:"center"},{name:"name",label:this.$t("name"),field:"name",sortable:!0,align:"center"},{name:"type",label:this.$t("TypeUser"),field:"type",sortable:!0,align:"center"},{name:"email",label:this.$t("email"),field:"email",sortable:!0,align:"center"},{name:"actions",label:this.$t("actions"),field:"actions",sortable:!1,align:"center"}]}},mounted:function(){this.listUsers()},methods:{deleteUser:function(e){var t=this;this.UsersService.remove(e).then((function(e){t.listUsers(),t.successNotify("User deleted!")})).catch((function(e){t.errorNotify(e.message)}))},deleteAllUser:function(){var e=this;this.$q.dialog({title:this.$t("confirm"),noEscDimiss:!0,transitionShow:"fade",transitionHide:"fade",message:this.$t("areYouSureYouWantToDelete")+"?",cancel:{color:"grey-5",push:!1},ok:{color:"primary",push:!1},persistent:!0}).onOk((function(){e.usersListSelected.forEach((function(t){e.$q.loading.show({delay:100}),e.UsersService.remove(t.idUser).then((function(t){e.listUsers(),e.successNotify("User deleted")})).catch((function(t){e.errorNotify(t.message)})).finally((function(){return e.$q.loading.hide()}))}))}))},listUsers:function(){var e=c()(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.UsersService.list().then((function(e){t.usersList=e})).catch((function(e){return t.errorNotify(e.message)})).finally((function(){t.loading=!1}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},m=f,h=n("a6c2"),v=Object(h["a"])(m,r,a,!1,null,null,null);t["default"]=v.exports},a36f:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-btn-dropdown",{attrs:{split:"",flat:"",round:"",size:"md",color:"blue-8",dense:"","dropdown-icon":"fas fa-cog"}},[n("q-list",{attrs:{separator:"",dense:""}},[e.btnView?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-grey-1 text-primary",attrs:{clickable:"",to:e.url+"/view/"+e.id}},[n("q-item-section",[n("q-icon",{attrs:{size:"18px",name:"fas fa-eye",color:"primary"}})],1),n("q-separator",{attrs:{inset:"",vertical:"",color:"grey-4"}}),n("q-item-section",{staticClass:"q-ma-sm"},[n("q-item-label",[e._v("View")])],1)],1):e._e(),e.btnEdit?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-grey-1 text-primary",attrs:{clickable:"",to:e.url+"/edit/"+e.id}},[n("q-item-section",[n("q-icon",{attrs:{size:"16px",name:"fas fa-pen",color:"blue-8"}})],1),n("q-separator",{attrs:{inset:"",vertical:"",color:"grey-4"}}),n("q-item-section",{staticClass:"q-ma-sm"},[n("q-item-label",{staticClass:"text-blue-8"},[e._v("Edit")])],1)],1):e._e(),e.btnDelete?n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-grey-1 text-primary",attrs:{clickable:""},on:{click:e.remove}},[n("q-item-section",[n("q-icon",{attrs:{size:"16px",name:"fas fa-trash-alt",color:"red-7"}})],1),n("q-separator",{attrs:{inset:"",vertical:"",color:"grey-4"}}),n("q-item-section",{staticClass:"q-ma-sm"},[n("q-item-label",{staticClass:"text-red-7"},[e._v("Delete")])],1)],1):e._e()],1)],1)},a=[],s={name:"ComponentTableActionButtons",props:{id:{},url:{type:String,default:""},btnView:{type:Boolean,default:!0},btnEdit:{type:Boolean,default:!0},btnDelete:{type:Boolean,default:!0}},methods:{remove:function(){var e=this;this.$q.dialog({title:this.$t("confirm"),noEscDismiss:!0,transitionShow:"fade",transitionHide:"fade",message:this.$t("areYouSureYouWantToDelete")+"?",cancel:{color:"grey-5",push:!1},ok:{color:"primary",push:!1},persistent:!0}).onOk((function(){e.$emit("delete")}))}}},i=s,o=n("a6c2"),c=Object(o["a"])(i,r,a,!1,null,null,null);t["a"]=c.exports},d997:function(e,t,n){"use strict";var r=n("52b5"),a=n.n(r),s=(n("c1c3"),n("549c")),i=n.n(s),o=n("2811"),c=n.n(o),l=n("9289"),u=n.n(l),d=n("7338"),p=n.n(d),f=function(e,t,n){var r=JSON.parse(JSON.stringify(e)).response;return navigator.onLine?r?new Error(m(r,t,n)):new Error("Servidor indisponivel, tente mais tarde"):new Error("Sem acesso à internet, por favor, tente mais tarde")},m=function(e,t,n){var r=e.data,a={400:function(){return h(r)},401:function(){return"Sessão expirada. Logue-se novamente"},404:function(){return"Endereço de acesso não encontrado"},500:function(){return v(t,n)},503:function(){return"Servidor indisponível. Tente novamente mais tardeftfr"},default:function(){return"Erro de verificação do status da requisição"}};return(a[e.status]||a["default"])()},h=function(e){return e&&e!=={}?e.length>1?e:e.error:"Existem erros a serem processados"},v=function(e,t){var n={list:"Não foi possível realizar a listagem, tente mais tarde.",get:"Não foi possível realizar a consulta de ".concat(t,", tente mais tarde."),create:"Não foi possível realizar o cadastro, tente mais tarde.",update:"Não foi possível realizar a edição, tente mais tarde.",remove:"Não foi possível realizar a exclusão, tente mais tarde.",login:"Não foi possível realizar o login, tente mais tarde.",default:"Erro de verificação"};return n[e]||n["default"]};n.d(t,"a",(function(){return b}));var b=function e(t){var n=this;c()(this,e),u()(this,"list",i()(a.a.mark((function e(){var t;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get(n.api);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e["catch"](0),f(e.t0,"list");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),u()(this,"show",function(){var e=i()(a.a.mark((function e(t){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.http.get("".concat(n.api,"/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),f(e.t0,"get","item");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),u()(this,"create",function(){var e=i()(a.a.mark((function e(t){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.http.post(n.api,t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),f(e.t0,"create");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),u()(this,"update",function(){var e=i()(a.a.mark((function e(t){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.http.put("".concat(n.api),t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),f(e.t0,"update");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),u()(this,"remove",function(){var e=i()(a.a.mark((function e(t){var r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.http.delete("".concat(n.api,"/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),f(e.t0,"remove");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),this.api=t,this.http=p.a}}}]);