(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"0e6f":function(t,e,n){"use strict";var r,s,a={data:function(){return{}},methods:{successNotify:function(t){this.$q.notify({message:t,color:"positive",position:"top",timeout:1500,icon:"fas fa-check-square"})},warningNotify:function(t){this.$q.notify({message:t,color:"warning",position:"top",timeout:1500,icon:"fas fa-exclamation"})},errorNotify:function(t){this.$q.notify({message:t,color:"negative",position:"top",timeout:1500,icon:"fas fa-exclamation-triangle"})}}},o=a,i=n("a6c2"),l=Object(i["a"])(o,r,s,!1,null,null,null);e["a"]=l.exports},2405:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("2811"),s=n.n(r),a=n("ddeb"),o=n.n(a),i=n("f26e"),l=n.n(i),c=n("39df1"),u=n.n(c),d=n("d997"),p=function(t){function e(){return s()(this,e),o()(this,l()(e).call(this,"/trunk"))}return u()(e,t),e}(d["a"])},"908a":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-12"},[n("div",{staticClass:"full-width text-right q-mb-md"},[n("router-link",{attrs:{to:t.backToList}},[n("q-btn",{staticClass:"q-mr-sm",attrs:{outline:"","no-caps":"",label:t.$t("cancel"),color:"primary"}})],1),n("q-btn",{attrs:{"no-caps":"",color:"primary",label:t.$t("save"),icon:"fas fa-save"},on:{click:t.saveTrunk}})],1),n("q-card",{staticClass:"shadow-1 col-12"},[n("q-tabs",{staticClass:"bg-grey-2 text-grey-7 shadow-1 full-width",attrs:{"inline-label":"","active-color":"primary","narrow-indicator":"",align:"left"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("q-tab",{attrs:{label:t.$t("general"),name:"general"}}),n("q-card-actions",{staticClass:"row justify-end fit q-mr-lg"})],1),n("q-separator"),n("q-tab-panels",{attrs:{animated:"","transition-prev":"jump-up","transition-next":"jump-up"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("q-tab-panel",{attrs:{name:"general"}},[n("div",{staticClass:"row justify-center"},[n("div",{staticClass:"q-pa-xs col-xl-6 col-lg-6 col-md-8 col-sm-10 col-xs-12"},[n("q-input",{attrs:{disable:t.editing,outlined:"",type:"text",label:t.$t("dial"),maxlength:"20",dense:""},model:{value:t.trunk.dial,callback:function(e){t.$set(t.trunk,"dial",e)},expression:"trunk.dial"}})],1),n("div",{staticClass:"q-pa-xs col-xl-6 col-lg-6 col-md-8 col-sm-10 col-xs-12"},[n("q-input",{attrs:{disable:t.editing,outlined:"",type:"text",label:t.$t("name"),rules:[function(e){return!!e||t.$t("required")},function(t){return t.length<=20||"Please use maximum 20 characters"}],dense:""},model:{value:t.trunk.name,callback:function(e){t.$set(t.trunk,"name",e)},expression:"trunk.name"}})],1),n("div",{staticClass:"q-pa-xs col-xl-6 col-lg-6 col-md-8 col-sm-10 col-xs-12"},[n("q-input",{attrs:{disable:t.editing,outlined:"",type:t.isPwd1?"password":"text",label:t.$t("trunkSecret"),rules:[function(e){return!!e||t.$t("required")},function(t){return t.length<=20||"Please use maximum 20 characters"}],dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd1?"visibility_off":"visibility"},on:{click:function(e){t.isPwd1=!t.isPwd1}}})]},proxy:!0}]),model:{value:t.trunk.secret,callback:function(e){t.$set(t.trunk,"secret",e)},expression:"trunk.secret"}})],1),n("div",{staticClass:"q-pa-xs col-xl-6 col-lg-6 col-md-8 col-sm-10 col-xs-12"},[n("q-input",{attrs:{outlined:"",type:"text",label:t.$t("host"),rules:[function(e){return!!e||t.$t("required")},function(t){return t.length<=15||"Please use maximum 15 characters"}],dense:""},model:{value:t.trunk.host,callback:function(e){t.$set(t.trunk,"host",e)},expression:"trunk.host"}})],1),n("div",{staticClass:"row col-6 justify-center q-pa-md bg-grey-1"},[n("label",{staticClass:"q-mr-lg"},[t._v(t._s(t.$t("DTMFMode"))+":")]),n("q-option-group",{staticClass:"q-gutter-x-lg",attrs:{options:t.dtmfMode,color:"primary",inline:"",dense:""},model:{value:t.trunk.dtmfMode,callback:function(e){t.$set(t.trunk,"dtmfMode",e)},expression:"trunk.dtmfMode"}})],1),n("div",{staticClass:"q-pa-xs col-xl-6 col-lg-6 col-md-8 col-sm-10 col-xs-12"},[n("q-input",{attrs:{outlined:"",type:"text",label:t.$t("context"),rules:[function(e){return!!e||t.$t("required")},function(t){return t.length<=20||"Please use maximum 20 characters"}],dense:""},model:{value:t.trunk.context,callback:function(e){t.$set(t.trunk,"context",e)},expression:"trunk.context"}})],1),n("div",{staticClass:"q-pa-xs col-xl-6 col-lg-6 col-md-8 col-sm-10 col-xs-12"},[n("q-select",{attrs:{outlined:"",options:t.technology,label:t.$t("technology"),dense:"",rules:[function(e){return!!e||t.$t("required")}]},model:{value:t.trunk.technology,callback:function(e){t.$set(t.trunk,"technology",e)},expression:"trunk.technology"}})],1),n("div",{staticClass:"q-pa-xs col-xl-6 col-lg-6 col-md-8 col-sm-10 col-xs-12"},[n("q-select",{attrs:{color:"primary",outlined:"",multiple:"",options:t.codecsAllow,"stack-label":"",label:"Codecs",dense:""},model:{value:t.codecsAllowComp,callback:function(e){t.codecsAllowComp=e},expression:"codecsAllowComp"}})],1),n("div",{staticClass:"q-pa-xs col-xl-6 col-lg-6 col-md-8 col-sm-10 col-xs-12"},[n("q-input",{attrs:{outlined:"",type:"number",label:t.$t("port"),placeholder:"Only number",rules:[function(e){return!!e||t.$t("required")}],dense:""},model:{value:t.trunk.port,callback:function(e){t.$set(t.trunk,"port",e)},expression:"trunk.port"}})],1),n("div",{staticClass:"q-pa-xs col-xl-6 col-lg-6 col-md-8 col-sm-10 col-xs-12"},[n("q-input",{attrs:{outlined:"",type:"text",label:t.$t("fromUser"),rules:[function(e){return!!e||t.$t("required")},function(t){return t.length<=40||"Please use maximum 40 characters"}],dense:""},model:{value:t.trunk.fromUser,callback:function(e){t.$set(t.trunk,"fromUser",e)},expression:"trunk.fromUser"}})],1),n("div",{staticClass:"q-pa-xs col-xl-6 col-lg-6 col-md-8 col-sm-10 col-xs-12"},[n("q-input",{attrs:{outlined:"",type:"text",label:t.$t("fromDomain"),rules:[function(e){return!!e||t.$t("required")},function(t){return t.length<=40||"Please use maximum 40 characters"}],dense:""},model:{value:t.trunk.fromDomain,callback:function(e){t.$set(t.trunk,"fromDomain",e)},expression:"trunk.fromDomain"}})],1),n("div",{staticClass:"q-pa-xs col-xl-6 col-lg-6 col-md-8 col-sm-10 col-xs-12"},[n("q-input",{attrs:{outlined:"",type:"number",label:t.$t("callLimit"),dense:""},model:{value:t.trunk.callLimit,callback:function(e){t.$set(t.trunk,"callLimit",e)},expression:"trunk.callLimit"}})],1),n("div",{staticClass:"row col-6 justify-center q-pa-xs bg-grey-1"},[n("q-toggle",{attrs:{"checked-icon":"check","unchecked-icon":"clear",color:"primary",label:t.$t("enableRegister")},on:{input:function(e){return t.populateRegisterField()}},model:{value:t.trunk.enableRegister,callback:function(e){t.$set(t.trunk,"enableRegister",e)},expression:"trunk.enableRegister"}})],1),n("div",{staticClass:"q-pa-xs col-xl-6 col-lg-6 col-md-8 col-sm-10 col-xs-12"},[n("q-input",{directives:[{name:"show",rawName:"v-show",value:!0===t.trunk.enableRegister,expression:"trunk.enableRegister === true"}],attrs:{outlined:"",type:"text",label:t.$t("register"),dense:""},model:{value:t.trunk.register,callback:function(e){t.$set(t.trunk,"register",e)},expression:"trunk.register"}})],1),n("div",{staticClass:"q-pa-xs col-xl-6 col-lg-6 col-md-8 col-sm-10 col-xs-12"},[n("q-select",{attrs:{outlined:"",options:t.insecure,label:"insecure",dense:""},model:{value:t.trunk.insecure,callback:function(e){t.$set(t.trunk,"insecure",e)},expression:"trunk.insecure"}})],1)])])],1)],1)],1)},s=[],a=(n("1a43"),n("0dbc"),n("b7dd"),n("8cf6"),n("6ac6"),n("2405")),o=n("0e6f"),i={name:"AddTrunkComponent",mixins:[o["a"]],data:function(){return{backToList:"/trunkgroups",TrunkGroupsService:new a["a"],trunk:{dial:"",name:"",host:"",port:"",secret:"",dtmfMode:"rfc2833",context:"",technology:"sip",codecsAllow:"alaw",fromUser:"",fromDomain:"",callLimit:"",enableRegister:!1,register:"",insecure:null},tab:"general",isPwd:!0,isPwd1:!0,modeltechnology:null,technology:["sip","pjsip","iax2","fxs","none"],dtmfMode:[{label:"RFC-2833",value:"rfc2833"},{label:"Inband",value:"inband"},{label:"Info",value:"info"}],modelcodecsAllow:null,codecsAllow:["alaw","ulaw","gsm","slin","g726","g729","ilbc","adpcm","lpc10","speex","opus"],insecure:["port","invite","port,invite"]}},mounted:function(){this.getTrunkGroups()},computed:{codecsAllowComp:{get:function(){if(this.codecsAllow){var t=this.trunk.codecsAllow.split(",");return t}return null},set:function(t){this.trunk.codecsAllow=t.join(",")}},editing:function(){return void 0!==this.$route.params.id&&null!=this.$route.params.id}},methods:{saveTrunk:function(){var t=this;this.trunk.callLimit=parseInt(this.trunk.callLimit),this.trunk.port=parseInt(this.trunk.port),this.editing?(this.$q.loading.show({delay:100}),this.TrunkGroupsService.update(this.trunk).then((function(e){t.successNotify("Trunk ".concat(t.trunk.name," updated!")),t.$router.push("/trunkgroups")})).catch((function(e){t.errorNotify(e.message)})).finally((function(){return t.$q.loading.hide()}))):this.TrunkGroupsService.create(this.trunk).then((function(e){t.successNotify("Trunk ".concat(t.trunk.name," created!")),t.$router.push("/trunkgroups")})).catch((function(e){return t.errorNotify(e.message)})).finally((function(){return t.$q.loading.hide()}))},getTrunkGroups:function(){var t=this;this.trunk.idTrunk=this.$route.params.id,this.trunk.idTrunk&&(this.$q.loading.show({delay:100,message:"<span>Loading Trunks ...</span>"}),this.TrunkGroupsService.show(this.trunk.idTrunk).then((function(e){t.trunk=e})).catch((function(e){return t.errorNotify(e.message)})).finally((function(){t.$q.loading.hide()})))},populateRegisterField:function(){this.trunk.register="".concat(this.trunk.fromUser,":").concat(this.trunk.secret,"@").concat(this.trunk.host,":").concat(this.trunk.port)}}},l=i,c=n("a6c2"),u=Object(c["a"])(l,r,s,!1,null,null,null);e["default"]=u.exports},d997:function(t,e,n){"use strict";var r=n("52b5"),s=n.n(r),a=(n("c1c3"),n("549c")),o=n.n(a),i=n("2811"),l=n.n(i),c=n("9289"),u=n.n(c),d=n("7338"),p=n.n(d),m=function(t,e,n){var r=JSON.parse(JSON.stringify(t)).response;return navigator.onLine?r?new Error(f(r,e,n)):new Error("Servidor indisponivel, tente mais tarde"):new Error("Sem acesso à internet, por favor, tente mais tarde")},f=function(t,e,n){var r=t.data,s={400:function(){return h(r)},401:function(){return"Sessão expirada. Logue-se novamente"},404:function(){return"Endereço de acesso não encontrado"},500:function(){return k(e,n)},503:function(){return"Servidor indisponível. Tente novamente mais tardeftfr"},default:function(){return"Erro de verificação do status da requisição"}};return(s[t.status]||s["default"])()},h=function(t){return t&&t!=={}?t.length>1?t:t.error:"Existem erros a serem processados"},k=function(t,e){var n={list:"Não foi possível realizar a listagem, tente mais tarde.",get:"Não foi possível realizar a consulta de ".concat(e,", tente mais tarde."),create:"Não foi possível realizar o cadastro, tente mais tarde.",update:"Não foi possível realizar a edição, tente mais tarde.",remove:"Não foi possível realizar a exclusão, tente mais tarde.",login:"Não foi possível realizar o login, tente mais tarde.",default:"Erro de verificação"};return n[t]||n["default"]};n.d(e,"a",(function(){return v}));var v=function t(e){var n=this;l()(this,t),u()(this,"list",o()(s.a.mark((function t(){var e;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get(n.api);case 3:return e=t.sent,t.abrupt("return",e.data);case 7:throw t.prev=7,t.t0=t["catch"](0),m(t.t0,"list");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),u()(this,"show",function(){var t=o()(s.a.mark((function t(e){var r;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.http.get("".concat(n.api,"/").concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t["catch"](0),m(t.t0,"get","item");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),u()(this,"create",function(){var t=o()(s.a.mark((function t(e){var r;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.http.post(n.api,e);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t["catch"](0),m(t.t0,"create");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),u()(this,"update",function(){var t=o()(s.a.mark((function t(e){var r;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.http.put("".concat(n.api),e);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t["catch"](0),m(t.t0,"update");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),u()(this,"remove",function(){var t=o()(s.a.mark((function t(e){var r;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.http.delete("".concat(n.api,"/").concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t["catch"](0),m(t.t0,"remove");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),this.api=e,this.http=p.a}}}]);