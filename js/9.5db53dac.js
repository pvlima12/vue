(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"0186":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-12"},[r("div",{staticClass:"full-width text-right q-mb-md"},[r("router-link",{attrs:{to:e.backToList}},[r("q-btn",{staticClass:"q-mr-sm",attrs:{outline:"","no-caps":"",label:e.$t("cancel"),color:"primary"}})],1),r("q-btn",{attrs:{"no-caps":"",color:"primary",label:e.$t("save"),icon:"fas fa-save"},on:{click:e.addProfile}})],1),r("q-card",{staticClass:"shadow-1 col-12"},[r("q-tabs",{staticClass:"bg-grey-2 text-grey-7 shadow-1 full-width",attrs:{"inline-label":"","active-color":"primary","narrow-indicator":"",align:"left"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("q-tab",{attrs:{label:e.$t("general"),name:"general"}})],1),r("q-separator"),r("q-tab-panels",{attrs:{animated:"","transition-prev":"jump-up","transition-next":"jump-up"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("q-tab-panel",{attrs:{name:"general"}},[r("q-card-section",[r("div",{staticClass:"row justify-center"},[r("div",{staticClass:"q-mb-lg col-4"},[r("q-input",{attrs:{outlined:"",label:e.$t("profileName"),maxlength:"20",dense:"",rules:[function(t){return!!t||e.$t("required")}]},model:{value:e.profile.name,callback:function(t){e.$set(e.profile,"name",t)},expression:"profile.name"}})],1)]),r("div",{staticClass:"row justify-center"},[r("div",{staticClass:"col-4 q-ml-md"},[r("q-list",[r("q-expansion-item",{staticClass:"text-center",attrs:{"expand-separator":"",icon:"fas fa-phone-square-alt",label:"Extension","header-class":"text-primary","dense-toggle":""}},[r("q-card",{staticClass:"q-pa-md",attrs:{title:"Extension"}},[r("q-list",{attrs:{"no-border":"",separator:"",dense:""}},e._l(e.filterExtension,(function(t,a){return r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a,attrs:{dense:"",tag:"label"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-checkbox",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"text-center",attrs:{label:t.permissionName},model:{value:t.status,callback:function(r){e.$set(t,"status",r)},expression:"item.status"}})],1)],1)})),1)],1)],1),r("q-expansion-item",{staticClass:"text-center",attrs:{"expand-separator":"",icon:"fas fa-code-branch",label:"Trunk","header-class":"text-primary","dense-toggle":""}},[r("q-card",{staticClass:"q-pa-md",attrs:{title:"Trunk"}},[r("q-list",{attrs:{"no-border":"",separator:"",dense:""}},e._l(e.filterTrunk,(function(t,a){return r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a,attrs:{dense:"",tag:"label"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-checkbox",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"text-center",attrs:{label:t.permissionName},model:{value:t.status,callback:function(r){e.$set(t,"status",r)},expression:"item.status"}})],1)],1)})),1)],1)],1),r("q-expansion-item",{staticClass:"text-center",attrs:{"expand-separator":"",icon:"fas fa-directions",label:"Routes","header-class":"text-primary","dense-toggle":""}},[r("q-card",{staticClass:"q-pa-md",attrs:{title:"Route"}},[r("q-list",{attrs:{"no-border":"",separator:"",dense:""}},e._l(e.filterRoute,(function(t,a){return r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a,attrs:{dense:"",tag:"label"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-checkbox",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"text-center",attrs:{label:t.permissionName},model:{value:t.status,callback:function(r){e.$set(t,"status",r)},expression:"item.status"}})],1)],1)})),1)],1)],1),r("q-expansion-item",{staticClass:"text-center",attrs:{"expand-separator":"",icon:"fas fa-bookmark",label:"Prefix","header-class":"text-primary","dense-toggle":""}},[r("q-card",{staticClass:"q-pa-md",attrs:{title:"Prefix"}},[r("q-list",{attrs:{"no-border":"",separator:"",dense:""}},e._l(e.filterPrefix,(function(t,a){return r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a,attrs:{dense:"",tag:"label"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-checkbox",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"text-center",attrs:{label:t.permissionName},model:{value:t.status,callback:function(r){e.$set(t,"status",r)},expression:"item.status"}})],1)],1)})),1)],1)],1),r("q-expansion-item",{staticClass:"text-center",attrs:{"expand-separator":"",icon:"fas fa-user",label:"Users","header-class":"text-primary","dense-toggle":""}},[r("q-card",{staticClass:"q-pa-md",attrs:{title:"User"}},[r("q-list",{attrs:{"no-border":"",separator:"",dense:""}},e._l(e.filterUser,(function(t,a){return r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a,attrs:{dense:"",tag:"label"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-checkbox",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"text-center",attrs:{label:t.permissionName},model:{value:t.status,callback:function(r){e.$set(t,"status",r)},expression:"item.status"}})],1)],1)})),1)],1)],1),r("q-expansion-item",{staticClass:"text-center",attrs:{"expand-separator":"",icon:"fas fa-users",label:"Profile","header-class":"text-primary","dense-toggle":""}},[r("q-card",{staticClass:"q-pa-md",attrs:{title:"Profile"}},[r("q-list",{attrs:{"no-border":"",separator:"",dense:""}},e._l(e.filterProfile,(function(t,a){return r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a,attrs:{dense:"",tag:"label"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-checkbox",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"text-center",attrs:{label:t.permissionName},model:{value:t.status,callback:function(r){e.$set(t,"status",r)},expression:"item.status"}})],1)],1)})),1)],1)],1)],1)],1)])])],1)],1)],1)],1)},s=[],i=(r("0dbc"),r("b7dd"),r("8cf6"),r("e526")),n=r("2811"),o=r.n(n),l=r("ddeb"),c=r.n(l),u=r("f26e"),p=r.n(u),f=r("39df1"),d=r.n(f),m=r("d997"),v=function(e){function t(){return o()(this,t),c()(this,p()(t).call(this,"/permission"))}return d()(t,e),t}(m["a"]),h=r("0e6f"),b={name:"AddProfileComponent",mixins:[h["a"]],data:function(){return{backToList:"/profiles",ProfileService:new i["a"],PermissionService:new v,profile:{name:"",permissions:[]},tab:"general"}},mounted:function(){this.getProfile(),this.editing||this.getAllPermissions()},computed:{editing:function(){return void 0!==this.$route.params.id&&null!=this.$route.params.id},filterExtension:function(){return this.profile.permissions.filter((function(e){return"Extension"===e.permissionGroup}))},filterTrunk:function(){return this.profile.permissions.filter((function(e){return"Trunk"===e.permissionGroup}))},filterRoute:function(){return this.profile.permissions.filter((function(e){return"Route"===e.permissionGroup}))},filterUser:function(){return this.profile.permissions.filter((function(e){return"User"===e.permissionGroup}))},filterPrefix:function(){return this.profile.permissions.filter((function(e){return"Prefix"===e.permissionGroup}))},filterProfile:function(){return this.profile.permissions.filter((function(e){return"Profile"===e.permissionGroup}))}},methods:{addProfile:function(){var e=this;this.editing?this.ProfileService.update(this.profile).then((function(t){e.successNotify("Profile successfully edited!"),e.$router.push("/profiles")})).catch((function(t){e.errorNotify(t.message)})):this.ProfileService.create(this.profile).then((function(t){e.successNotify("Profile successfully added!"),e.$router.push("/profiles")})).catch((function(t){return e.errorNotify(t.message)}))},getAllPermissions:function(){var e=this;this.PermissionService.list().then((function(t){e.profile.permissions=t})).catch((function(t){return e.errorNotify(t.message)}))},getProfile:function(){var e=this;this.profile.idProfile=this.$route.params.id,this.profile.idProfile&&this.ProfileService.show(this.profile.idProfile).then((function(t){e.profile=t})).catch((function(t){return e.errorNotify(t.message)})).finally((function(){e.loading=!1}))}}},x=b,q=r("a6c2"),g=Object(q["a"])(x,a,s,!1,null,null,null);t["default"]=g.exports},"0e6f":function(e,t,r){"use strict";var a,s,i={data:function(){return{}},methods:{successNotify:function(e){this.$q.notify({message:e,color:"positive",position:"top",timeout:1500,icon:"fas fa-check-square"})},warningNotify:function(e){this.$q.notify({message:e,color:"warning",position:"top",timeout:1500,icon:"fas fa-exclamation"})},errorNotify:function(e){this.$q.notify({message:e,color:"negative",position:"top",timeout:1500,icon:"fas fa-exclamation-triangle"})}}},n=i,o=r("a6c2"),l=Object(o["a"])(n,a,s,!1,null,null,null);t["a"]=l.exports},d997:function(e,t,r){"use strict";var a=r("52b5"),s=r.n(a),i=(r("c1c3"),r("549c")),n=r.n(i),o=r("2811"),l=r.n(o),c=r("9289"),u=r.n(c),p=r("7338"),f=r.n(p),d=function(e,t,r){var a=JSON.parse(JSON.stringify(e)).response;return navigator.onLine?a?new Error(m(a,t,r)):new Error("Servidor indisponivel, tente mais tarde"):new Error("Sem acesso à internet, por favor, tente mais tarde")},m=function(e,t,r){var a=e.data,s={400:function(){return v(a)},401:function(){return"Sessão expirada. Logue-se novamente"},404:function(){return"Endereço de acesso não encontrado"},500:function(){return h(t,r)},503:function(){return"Servidor indisponível. Tente novamente mais tardeftfr"},default:function(){return"Erro de verificação do status da requisição"}};return(s[e.status]||s["default"])()},v=function(e){return e&&e!=={}?e.length>1?e:e.error:"Existem erros a serem processados"},h=function(e,t){var r={list:"Não foi possível realizar a listagem, tente mais tarde.",get:"Não foi possível realizar a consulta de ".concat(t,", tente mais tarde."),create:"Não foi possível realizar o cadastro, tente mais tarde.",update:"Não foi possível realizar a edição, tente mais tarde.",remove:"Não foi possível realizar a exclusão, tente mais tarde.",login:"Não foi possível realizar o login, tente mais tarde.",default:"Erro de verificação"};return r[e]||r["default"]};r.d(t,"a",(function(){return b}));var b=function e(t){var r=this;l()(this,e),u()(this,"list",n()(s.a.mark((function e(){var t;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get(r.api);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e["catch"](0),d(e.t0,"list");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),u()(this,"show",function(){var e=n()(s.a.mark((function e(t){var a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.http.get("".concat(r.api,"/").concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e["catch"](0),d(e.t0,"get","item");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),u()(this,"create",function(){var e=n()(s.a.mark((function e(t){var a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.http.post(r.api,t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e["catch"](0),d(e.t0,"create");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),u()(this,"update",function(){var e=n()(s.a.mark((function e(t){var a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.http.put("".concat(r.api),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e["catch"](0),d(e.t0,"update");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),u()(this,"remove",function(){var e=n()(s.a.mark((function e(t){var a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.http.delete("".concat(r.api,"/").concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e["catch"](0),d(e.t0,"remove");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),this.api=t,this.http=f.a}},e526:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var a=r("2811"),s=r.n(a),i=r("ddeb"),n=r.n(i),o=r("f26e"),l=r.n(o),c=r("39df1"),u=r.n(c),p=r("d997"),f=function(e){function t(){return s()(this,t),n()(this,l()(t).call(this,"/Profile"))}return u()(t,e),t}(p["a"])}}]);